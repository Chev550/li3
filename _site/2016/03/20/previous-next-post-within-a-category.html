<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="If your blog lists all posts in only one section, you can always use {{post.previous.url}} and {{post.next.url}} to make links to previous and next posts1. H...">
	<title>Previous/next post within a category - 李立</title>
	

	<link rel="stylesheet" type="text/css" href="/assets/css/bootstrap.css">
	<link rel="stylesheet" type="text/css" href="/assets/css/custom.css">


	<script src="/assets/js/jquery-1.11.3.js"></script>
	<script src="/assets/js/bootstrap.js"></script>
	<script src="/assets/js/custom.js"></script>
</head>



<body>
	<header>
	<div class="container">
		<nav>
			<ul>
				<a href="/">
					<li>
						<img class="logo" src="/assets/img/profile.png">
					</li>
				</a>

				<a class="" href="/portfolio.html">
					<li>
						作品<br>
						<span class="x-small slim">PORTFOLIO</span>
					</li>
				</a>

				<a class="" href="/blog/">
					<li>
						博客<br>
						<span class="x-small slim">BLOG</span>
					</li>
				</a>

				<a class="" href="/about.html">
					<li>
						关于<br>
						<span class="x-small slim">ABOUT</span>
					</li>
				</a>
			</ul>	
		</nav>
	</div>
</header>

	<div class="container clearance">
		<section>
			<h2 class="slim">Previous/next post within a category</h2>
<p class="slim gray" style="margin-bottom: 4rem;">
	<span class="glyphicon glyphicon-time"></span>
	20 Mar 2016
	&nbsp;
	<span class="glyphicon glyphicon-tag"></span>
	


<span class="post-tags"><a href="/tags/#Jekyll">#Jekyll</a></span>

</p>

<p>If your blog lists all posts in only one section, you can always use <code class="highlighter-rouge">{{post.previous.url}}</code> and <code class="highlighter-rouge">{{post.next.url}}</code> to make links to previous and next posts<sup id="fnref:jek"><a href="#fn:jek" class="footnote">1</a></sup>. However, sometimes we group our posts in defferent sections by category. In this case, <code class="highlighter-rouge">post.previous</code> and <code class="highlighter-rouge">post.next</code> are no longer handy to navigate because they will link to posts in other categries which are not supposed to be shown in current section. To navigate previous/next post within one category, the following code template is presented<sup id="fnref:tem"><a href="#fn:tem" class="footnote">2</a></sup>.</p>

<!-- more -->

<figure class="highlight"><pre><code class="language-html" data-lang="html">{% if page.categories %}
    {% assign category = page.categories[0] %}
    {% assign posts = site.categories[category] %}

    {% for post in posts %}
        {% if post.url == page.url %}
            {% assign post_index0 = forloop.index0 %}
            {% assign post_index1 = forloop.index %}
        {% endif %}
    {% endfor %}

    {% for post in posts %}
        {% if post_index0 == forloop.index %}
            {% assign next_post = post %}
        {% endif %}
        {% if post_index1 == forloop.index0 %}
            {% assign prev_post = post %}
        {% endif %}
    {% endfor %}
{% endif %}

{% if next_post %}
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{{site.baseurl}}{{next_post.url}}"</span> <span class="na">class=</span><span class="s">"prev"</span><span class="nt">&gt;</span><span class="ni">&amp;laquo;</span> {{next_post.title}}<span class="nt">&lt;/a&gt;</span>
{% endif %}

{% if prev_post %}
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{{site.baseurl}}{{prev_post.url}}"</span> <span class="na">class=</span><span class="s">"next"</span><span class="nt">&gt;</span>{{prev_post.title}} <span class="ni">&amp;raquo;</span><span class="nt">&lt;/a&gt;</span>
{% endif %}</code></pre></figure>

<div class="footnotes">
  <ol>
    <li id="fn:jek">
      <p><a href="http://david.elbe.me/jekyll/2015/06/20/how-to-link-to-next-and-previous-post-with-jekyll.html">“Jekyll – how to link to next/previous post on your blog”</a>, David Elbe. <a href="#fnref:jek" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:tem">
      <p><a href="https://github.com/jekyll/jekyll/issues/260">“Template Variables for Next/Previous Posts Within a Category”</a>, surajram. <a href="#fnref:tem" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>




<p style="margin-top: 7rem;">
	
<span class="glyphicon glyphicon-circle-arrow-left"></span>



<a class="pull-right" href="/2016/05/11/group-posts-by-year.html"><span class="glyphicon glyphicon-circle-arrow-right"></span></a>


</p>

		</section>
	</div>

	<footer>
	<div class="container small">
		&copy;
		<span><script type="text/javascript">document.write(new Date().getFullYear());</script></span>
		All Rights Reserved &sdot;

		<a href="/stats.html"><span class="glyphicon glyphicon-stats"></span></a> &sdot;

		<a href="mailto:lucas.li@sdchina.org.cn"><span class="glyphicon glyphicon-envelope"></span></a>


		<span class="pull-right"><a href="javascript:;" onclick="chn()">中文</a> / <a href="javascript:;" onclick="eng()">English</a></span>
	</div>
</footer>
</body>
</html>